<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/style.css">

  <title>isvalid</title>

  
</head>
<body>   

<div class = "mainBox">
        <h1>Hi!</h1>
        <h4>Eu, sou o Orion</h4>
 
       
          <a href="index.html"><img src="img/icon1.png"
            alt="The Orion warrior logo"
            width="200" height="200"></a>
      
  
           
              <input name="hash" id="hs" type="hash" hidden/> 
              <span id='message'></span>
        
 


  </div>

    
<script>

// const axios = require('axios')
 
// axios.post('window.location.href', {
//   params = new URLSearchParams({
//         hash: this.hash
//       })
//   })
//   .then(function (response) {
//     console.log(response);
//   })

//   let url= new URL('https://javascriptjeep.com?mode=night&page=2');
// let params = new URLSearchParams(url.search);



var http = new XMLHttpRequest();
var urlnow = window.location.href;
var url = 'http://localhost:9080/orion-users-service/users/api/v1/confirmHash/?hash=';

let par = (new URL(urlnow)).searchParams;
let hash = par.get("hash");

var params = 'hash='+hash;
http.open('POST', url, true);

//Send the proper header information along with the request
http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

http.onreadystatechange = function() {//Call a function when the state changes.
    if(http.readyState == 4 && http.status == 200) {
        alert(http.responseText);
    }
}
http.send(params);


</script>

</body>
</html>


       